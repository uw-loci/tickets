<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #88 (Need system to scale selection areas to pixel coordinates)
     – LOCI Software
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="notice" style="width: 58em; max-width: 100%; margin-left: auto; margin-right: auto; border: 1px solid black; margin-bottom: 2em">
      <table>
        <tr>
          <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
          <td>
            <p style="margin: 0.4em">
            NOTICE! This is a static HTML version of a legacy LOCI Software ticket.
            </p>
            <p style="margin: 0.4em">
            LOCI projects are now located
            <a href="https://github.com/uw-loci">on GitHub</a>.
            The Bio-Formats project can be found
            <a href="https://github.com/openmicroscopy/bioformats">here</a>.
            </p>
          </td>
        </tr>
      </table>
    </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="88.html">Ticket #88</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2007-03-27T13:45:08-05:00</p>
    <p>Last modified 2007-05-02T10:53:45-05:00</p>
  </div>
  <h2 class="summary searchable">Need system to scale selection areas to pixel coordinates</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        sorber
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        sorber
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              critical
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="missing milestone"></a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              visbio
        </td>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              
        </td>
    </tr><tr>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
    </tr><tr>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
The dimensions of the selection grid or highlighting band should be scaled according to the current zoom level, etc. of the display the user is working on (the 'active' display).  Currently, OverlayObjects are unaware of such display properties since they may appear simultaneously on multiple displays, but the getSelectionGrid() method is part of  OverlayObject. Here are some ideas for scaling the selection grid to the display:
</p>
<ul><li>Make OverlayObjects aware of the display by passing all objects the active display at each (relevant) mouse event in each OverlayTool
</li></ul><p>
 
</p>
<ul><li>Let OverlayTool compute the selection grids of each object.  I like this idea--separating the selection of the object from the object itself.
</li></ul>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2007-03-27T13:49:09-05:00 by sorber
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        changed from <em>melissa</em> to <em>sorber</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2007-03-27T13:49:33-05:00 by sorber
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Component</strong>
        changed from <em>bio-formats</em> to <em>visbio</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                        in reply to:
      <a href="#comment:description">↑ description</a>
                  </span>
                  Changed 2007-04-06T12:58:38-05:00 by sorber
                </h3>
                
    <div class="comment searchable">
      
      <blockquote class="citation">
<p>
Let OverlayTool compute the selection grids of each object.  I like this idea--separating the selection of the object from the object itself.
</p>
</blockquote>
<p>
Better yet, let OverlayTransform call a utility class that computes selection layers.  The only problem with this idea is that OverlayTransform is not aware of any display.  Curtis suggested    <br />
</p>
<ul><li> changing getData() to accept a wrapper object including all current arguments and a display.
</li></ul><p>
This might also involve<br />
</p>
<ul><li> adding a static method to each transform type that returns whether the transform type cares about changes to the displays' projection matrices, and code in TransformLink (I presume) that would call getData again if a display changes and the new static method returns true.
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2007-04-12T14:08:23-05:00 by sorber
                </h3>
                
    <div class="comment searchable">
      
      <p>
Use the TransformLink object now provided to OverlayTransform.getData(...): 
<tt>lnk.getHandler().getWindow().getDisplay();</tt>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                          <span>follow-up:</span>
      <a href="#comment:8">↓ 8</a>
                  </span>
                  Changed 2007-04-24T13:41:42-05:00 by sorber
                </h3>
                
    <div class="comment searchable">
      
      <p>
Will move getSelectionGrid methods out of OverlayObject and subclasses into a utility class.  OverlayTransform.getData will use this utility class to compute selection grids.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2007-04-24T13:42:23-05:00 by sorber
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>critical</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed 2007-04-24T13:54:21-05:00 by sorber
                </h3>
                
    <div class="comment searchable">
      
      <p>
Also need to scale the following attributes:
</p>
<ul><li>Arrow width
</li><li>Polyline proximity circles
</li><li>Proximity threshholds for editable overlays
</li></ul>
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="#comment:8">comment:8</a>
    </span>
                        in reply to:
      <a href="#comment:5">↑ 5</a>
                  </span>
                  Changed 2007-04-24T18:04:02-05:00 by sorber
                </h3>
                
    <div class="comment searchable">
      
      <p>
Replying to <a href="/trac/software/ticket/88#comment:5" title="Comment 5 for Ticket #88">sorber</a>:
</p>
<blockquote class="citation">
<p>
Will move getSelectionGrid methods out of OverlayObject and subclasses into a utility class.  OverlayTransform.getData will use this utility class to compute selection grids.
</p>
</blockquote>
<p>
Moved these methods to <tt>loci.visbio.util.OverlayUtil</tt>.  Removed these and the <tt>computeGridParameters()</tt> (now computed during <tt>OverlayUtil.getSelectionLayer()</tt> if at all) methods from <tt>OverlayObject</tt>.  <tt>computeGridParameters()</tt> is no longer applicable since overlays use different selection layer types.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed 2007-05-02T10:53:45-05:00 by sorber
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Completed scaling of arrow width, polyine proximity circles.  Most proximity thresholds were based on pixel coordinates already, except the selection threshold in <tt>PointerTool</tt>, now scaled using <tt>OverlayUtil.getMultiplier()</tt>.  Will log further bugs relating to scaling as separate, new tickets.
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
  </body>
</html>
