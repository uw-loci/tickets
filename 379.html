<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #379 (EOFException reading some LEI datasets)
     â€“ LOCI Software
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="379.html">Ticket #379</a>
          <span class="status">(closed defect: fixed)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2009-04-23T14:54:40-05:00</p>
    <p>Last modified 2009-04-23T22:26:28-05:00</p>
  </div>
  <h2 class="summary searchable">EOFException reading some LEI datasets</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        curtis
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        melissa
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              major
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="missing milestone"></a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              bio-formats
        </td>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
    </tr><tr>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
    </tr><tr>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <pre class="wiki">$ showinf data/leica/mark/mwoodbri-leica/exp1.lei 
Checking file format [Leica]
Initializing reader
        Reading metadata blocks
        Parsing metadata blocks
        Handling renamed TIFF files
        Populating metadata
Exception in thread "main" java.io.EOFException
        at java.io.RandomAccessFile.readFully(RandomAccessFile.java:373)
        at loci.common.RAFile.readFully(RAFile.java:146)
        at loci.common.RandomAccessStream.readFully(RandomAccessStream.java:398)
        at loci.common.DataTools.read2SignedBytes(DataTools.java:103)
        at loci.common.RandomAccessStream.readShort(RandomAccessStream.java:288)
        at loci.formats.in.MinimalTiffReader.initFile(MinimalTiffReader.java:148)
        at loci.formats.FormatReader.setId(FormatReader.java:327)
        at loci.formats.in.LeicaReader.initFile(LeicaReader.java:810)
        at loci.formats.FormatReader.setId(FormatReader.java:327)
        at loci.formats.ImageReader.setId(ImageReader.java:581)
        at loci.formats.tools.ImageInfo.testRead(ImageInfo.java:261)
        at loci.formats.tools.ImageInfo.testRead(ImageInfo.java:59)
        at loci.formats.tools.ImageInfo.main(ImageInfo.java:671)
</pre>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2009-04-23T22:26:28-05:00 by melissa
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>fixed</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Mostly fixed in <a class="changeset" href="/trac/software/changeset/5027" title="LeicaReader.initFile(String) no longer requires a constituent TIFF file to ...">r5027</a>.  An EOFException will still be thrown when attempting to open the exp1 dataset, as all of the constituent TIFF files are empty.  However, the .lei file can now be initialized without an exception being thrown.
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
  </body>
</html>
