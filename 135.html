<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  
  <!-- See: http://trac.edgewall.org/wiki/TracInterfaceCustomization -->


  <head>
    <title>
      #135 (Support for spectral calibration)
     – LOCI Software
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="trac.css" type="text/css" /><link rel="stylesheet" href="ticket.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div id="main">
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="/trac/software/ticket/135">Ticket #135</a>
          <span class="status">(closed enhancement: moved)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened 2007-05-14T17:19:00-05:00</p>
    <p>Last modified 2014-01-09T13:38:54-06:00</p>
  </div>
  <h2 class="summary searchable">Support for spectral calibration</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        curtis
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        nor
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              critical
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="missing milestone"></a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              slim-plotter
        </td>
        <th id="h_severity">
          Severity:
        </th>
        <td headers="h_severity">
              serious
        </td>
    </tr><tr>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
    </tr><tr>
        <th id="h_blockedby">
          Blocked By:
        </th>
        <td headers="h_blockedby">
        </td>
        <th id="h_blocking">
          Blocking:
        </th>
        <td headers="h_blocking">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2014-01-09 19:38:54.494194+00:00">
        (last modified by curtis)
      </span>
    </h3>
    <div class="searchable">
      <p>
Slim Plotter assumes that the lifetime histograms are relatively correct between channels, but that assumption is not really the case. In actuality, there is an expected intensity curve from lower to higher wavelengths, and an actual curve from the system that probably does not match perfectly. Slim Plotter could compare the expected to the actual intensity value at each physical spectral channel, compute a scale factor for each, and apply them to the lifetime histograms of the experiment.
</p>
<ul><li>One file contains the "expected" spectral curve (i.e., single pixel per channel).
</li><li>Other files contain calibration information: system collection at a particular date. These calibration files are essentially experiment data with nothing under the scope.
</li><li>Slim Plotter needs to bin all pixels and lifetime bins for each physical spectral channel in the calibration files together. Wavelengths should be determined from the filename naming convention, since the information is not present in SDT. The resulting curve should be compared to the expected results, to compute scale values.
</li><li>The computed scale values could be cached based on file datestamps. That is, only recompute the scale values if the calibration files have been updated since the last computation.
</li><li>However, the problem of when an experiment was collected must be addressed. Older calibration files must be kept around, in case people want to read data corresponding to the era of that calibration. That is, Slim Plotter should only use calibration files from dates matching the experiment data. It is probably safest to take an educated guess about which calibration data to use, then allow the user to confirm the choice as part of the initial menu.
</li><li>Lastly, it should be possible to have multiple calibration files for a given era, because they need to cover more than 150 nm, which is what the 16-channel system currently spans. Also, to increase accuracy, it would be handy to drop in multiple calibration files per wavelength, which Slim Plotter would average.
</li></ul>
    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed 2007-05-14T17:22:37-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed 2007-10-09T09:55:22-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        <em>curtis</em> deleted
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
See tickets <a class="closed ticket" href="/trac/software/ticket/84" title="enhancement: Use system response file to calibrate data via deconvolution (closed: moved)">#84</a> and <a class="closed ticket" href="/trac/software/ticket/183" title="task: Devise a scheme to embed calibration information into the SDT format (closed: moved)">#183</a> for related calibration tasks.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed 2007-10-09T09:59:14-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Priority</strong>
        changed from <em>major</em> to <em>critical</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed 2007-10-09T10:22:47-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Type</strong>
        changed from <em>task</em> to <em>enhancement</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="#comment:5">comment:5</a>
    </span>
                  </span>
                  Changed 2007-10-09T12:43:24-05:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Owner</strong>
        set to <em>nor</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed 2014-01-09T13:38:54-06:00 by curtis
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li><li>
      <strong>Resolution</strong>
        set to <em>moved</em>
    </li><li>
      <strong>Description</strong>
        modified
    </li><li>
      <strong>Severity</strong>
        set to <em>serious</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
See <a class="ext-link" href="https://github.com/uw-loci/slim-plotter/issues/7"><span class="icon"> </span>https://github.com/uw-loci/slim-plotter/issues/7</a>
</p>

    </div>

              </div>
          </div>
        </div>
    </div>
    </div>
  </body>
</html>
